<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZM4LK5K0LJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZM4LK5K0LJ');
</script>
    <link rel="stylesheet" href="style.css">
    <title>Tools</title>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap');
*{
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Poppins" , sans-serif;
}
.sidebar{
  position: fixed;
  left: 0;
  top: 0;
  height: 100%;
  width: 78px;
  background: #11101D;
  padding: 6px 14px;
  z-index: 99;
  transition: all 0.5s ease;
}
.sidebar.open{
  width: 250px;
}
.sidebar .logo-details{
  height: 60px;
  display: flex;
  align-items: center;
  position: relative;
}
.sidebar .logo-details .icon{
  opacity: 0;
  transition: all 0.5s ease;
}
.sidebar .logo-details .logo_name{
  color: #fff;
  font-size: 20px;
  font-weight: 600;
  opacity: 0;
  transition: all 0.5s ease;
}
.sidebar.open .logo-details .icon,
.sidebar.open .logo-details .logo_name{
  opacity: 1;
}
.sidebar .logo-details #btn{
  position: absolute;
  top: 50%;
  right: 0;
  transform: translateY(-50%);
  font-size: 22px;
  transition: all 0.4s ease;
  font-size: 23px;
  text-align: center;
  cursor: pointer;
  transition: all 0.5s ease;
}
.sidebar.open .logo-details #btn{
  text-align: right;
}
.sidebar i{
  color: #fff;
  height: 60px;
  min-width: 50px;
  font-size: 28px;
  text-align: center;
  line-height: 60px;
}
.sidebar .nav-list{
  margin-top: 20px;
  height: 100%;
}
.sidebar li{
  position: relative;
  margin: 8px 0;
  list-style: none;
}
.sidebar li .tooltip{
  position: absolute;
  top: -20px;
  left: calc(100% + 15px);
  z-index: 3;
  background: #fff;
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3);
  padding: 6px 12px;
  border-radius: 4px;
  font-size: 15px;
  font-weight: 400;
  opacity: 0;
  white-space: nowrap;
  pointer-events: none;
  transition: 0s;
}
.sidebar li:hover .tooltip{
  opacity: 1;
  pointer-events: auto;
  transition: all 0.4s ease;
  top: 50%;
  transform: translateY(-50%);
}
.sidebar.open li .tooltip{
  display: none;
}
.sidebar input{
  font-size: 15px;
  color: #FFF;
  font-weight: 400;
  outline: none;
  height: 50px;
  width: 100%;
  width: 50px;
  border: none;
  border-radius: 12px;
  transition: all 0.5s ease;
  background: #1d1b31;
}
.sidebar.open input{
  padding: 0 20px 0 50px;
  width: 100%;
}
.sidebar .bx-search{
  position: absolute;
  top: 50%;
  left: 0;
  transform: translateY(-50%);
  font-size: 22px;
  background: #1d1b31;
  color: #FFF;
}
.sidebar.open .bx-search:hover{
  background: #1d1b31;
  color: #FFF;
}
.sidebar .bx-search:hover{
  background: #FFF;
  color: #11101d;
}
.sidebar li a{
  display: flex;
  height: 100%;
  width: 100%;
  border-radius: 12px;
  align-items: center;
  text-decoration: none;
  transition: all 0.4s ease;
  background: #11101D;
}
.sidebar li a:hover{
  background: #FFF;
}
.sidebar li a .links_name{
  color: #fff;
  font-size: 15px;
  font-weight: 400;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: 0.4s;
}
.sidebar.open li a .links_name{
  opacity: 1;
  pointer-events: auto;
}
.sidebar li a:hover .links_name,
.sidebar li a:hover i{
  transition: all 0.5s ease;
  color: #11101D;
}
.sidebar li i{
  height: 50px;
  line-height: 50px;
  font-size: 18px;
  border-radius: 12px;
}
.sidebar li.profile{
  position: fixed;
  height: 60px;
  width: 78px;
  left: 0;
  bottom: -8px;
  padding: 10px 14px;
  background: #1d1b31;
  transition: all 0.5s ease;
  overflow: hidden;
}
.sidebar.open li.profile{
  width: 250px;
}
.sidebar li .profile-details{
  display: flex;
  align-items: center;
  flex-wrap: nowrap;
}
.sidebar li img{
  height: 45px;
  width: 45px;
  object-fit: cover;
  border-radius: 6px;
  margin-right: 10px;
}
.sidebar li.profile .name,
.sidebar li.profile .job{
  font-size: 15px;
  font-weight: 400;
  color: #fff;
  white-space: nowrap;
}
.sidebar li.profile .job{
  font-size: 12px;
}
.sidebar .profile #log_out{
  position: absolute;
  top: 50%;
  right: 0;
  transform: translateY(-50%);
  background: #1d1b31;
  width: 100%;
  height: 60px;
  line-height: 60px;
  border-radius: 0px;
  transition: all 0.5s ease;
}
.sidebar.open .profile #log_out{
  width: 50px;
  background: none;
}
.home-section{
  position: relative;
  background: #E4E9F7;
  min-height: 100vh;
  top: 0;
  left: 78px;
  width: calc(100% - 78px);
  transition: all 0.5s ease;
  z-index: 2;
  text-align: center;
  color: red;
  padding: 15px;
}
.sidebar.open ~ .home-section{
  left: 250px;
  width: calc(100% - 250px);
}
.home-section .text{
  display: inline-block;
  color: #11101d;
  font-size: 25px;
  font-weight: 500;
  margin: 18px
}
@media (max-width: 420px) {
  .sidebar li .tooltip{
    display: none;
  }
}

.collapsible {
  background-color: yellow;
  color: red;
  cursor: pointer;
  padding: 18px;
  width: 100%;
  border: none;
  text-align: left;
  outline: none;
  font-size: 15px;
}

.active, .collapsible:hover {
  background-color: green;
  color: yellow;
}

.content {
  padding: 0 18px;
  display: none;
  overflow: hidden;
  background-color: yellow;
  color: red;
}

* {
  padding: 0;
  margin: 0;
  font-size: 18px;
  font-family: sans-serif;
}

.wrapper {
  width: 100%;
  max-width: 1366px;
  min-height: 100vh;
  height: auto;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
  padding-top: 2em;
  -ms-flex-wrap: wrap;
      flex-wrap: wrap;
  background-color: #f4f4f4;
}

.wrapper .title {
  width: 100%;
  color: #ff076e;
  text-align: center;
  text-transform: capitalize;
  font-weight: bold;
}

.wrapper .title p {
  font-family: noto serif;
  letter-spacing: 0.5px;
}

.wrapper .container {
  width: 25%;
  min-height: 88%;
  height: auto;
  margin-top: 5px;
  background-color: #ffffff;
  border-radius: 5px;
  margin-bottom: 3em;
}

.wrapper .container .status {
  width: 100%;
  height: 10px;
  text-align: center;
  padding-top: 15px;
}

.wrapper .container .status p {
  font-family: sans-serif;
  font-size: 0.9rem;
  font-weight: 200;
  text-transform: capitalize;
  letter-spacing: 1px;
}

.wrapper .container .logo-music {
  width: 100%;
  height: 5em;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  margin-top: 10px;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
}

.wrapper .container .logo-music svg {
  width: 80px;
  height: 80px;
  margin-right: -0.5em;
}

.wrapper .container .timer {
  width: 100%;
  min-height: 5px;
  height: auto;
  text-align: center;
  margin-top: 20px;
}

.wrapper .container .timer p {
  font-size: 0.8rem;
  font-weight: 100;
  font-family: acme;
  color: rgba(0, 0, 0, 0.9);
}

.wrapper .container .audio-controler {
  width: 100%;
  height: 5em;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -ms-flex-wrap: wrap;
      flex-wrap: wrap;
  margin-top: 20px;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
}

.wrapper .container .audio-controler .button {
  width: 50px;
  height: 50px;
  overflow: hidden;
  background-image: url(img/playpause-btn.png);
  background-size: 100%;
  background-position: center;
  background-repeat: no-repeat;
}

.wrapper .container .audio-controler .btn-info {
  width: 100%;
  height: auto;
  text-align: center;
}

.wrapper .container .audio-controler .btn-info p {
  font-size: 0.8rem;
  color: rgba(0, 0, 0, 0.8);
  text-transform: capitalize;
}

.wrapper .container .record-controler {
  width: 100%;
  height: 5em;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -ms-flex-wrap: wrap;
      flex-wrap: wrap;
  margin-top: 30px;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
}

.wrapper .container .record-controler .button {
  width: 30px;
  height: 30px;
  overflow: hidden;
  background-image: url(img/record.png);
  background-size: 100%;
  background-position: center;
  background-repeat: no-repeat;
}

.wrapper .container .record-controler .btn-info {
  width: 100%;
  height: auto;
  text-align: center;
}

.wrapper .container .record-controler .btn-info p {
  font-size: 0.8rem;
  color: rgba(0, 0, 0, 0.8);
  text-transform: capitalize;
}

.wrapper .container .downloader {
  width: 100%;
  height: 5em;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -ms-flex-wrap: wrap;
      flex-wrap: wrap;
  margin-top: 30px;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
}

.wrapper .container .downloader .button {
  width: 50px;
  height: 50px;
  overflow: hidden;
  background-image: url(img/download.png);
  background-size: 100%;
  background-position: center;
  background-repeat: no-repeat;
}

@media (max-width: 1300px) {
  .wrapper .container {
    width: 35%;
  }
}

@media (max-width: 720px) {
  .wrapper .container {
    width: 50%;
  }
}

@media (max-width: 550px) {
  .wrapper .container {
    width: 70%;
  }
}

@media (max-width: 350px) {
  .wrapper .container {
    width: 95%;
  }
}
    </style>
    <link rel="shortcut icon" href="./img/record.png" type="image/x-icon">
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   </head>
<body>
<div class="sidebar">
    <div class="logo-details">
        <div class="logo_name">OFUT App</div>
        <i class='bx bx-menu' id="btn" ></i>
    </div>
    <ul class="nav-list">
      <li>
        <a href="home.html">
          <i class='bx bx-home'></i>
          <span class="links_name">Home</span>
        </a>
         <span class="tooltip">Home</span>
      </li>
      <li>
       <a href="about.html">
         <i class='bx bx-info-circle'></i>
         <span class="links_name">About</span>
       </a>
       <span class="tooltip">About</span>
     </li>
     <li>
       <a href="client.html">
        <i class='bx bx-log-in'></i>
         <span class="links_name">Client</span>
       </a>
       <span class="tooltip">Client</span>
     </li>
     <li>
        <a href="tool.html">
          <i class='bx bx-box'></i>
          <span class="links_name">Tools</span>
        </a>
        <span class="tooltip">Tools</span>
      </li>
      <li>
        <a href="information.html">
          <i class='bx bxs-info-circle' ></i>
          <span class="links_name">Information</span>
        </a>
        <span class="tooltip">Information</span>
      </li>
      <li>
      <li>
        <a href="editor.html">
          <i class='bx bx-edit-alt' ></i>
          <span class="links_name">Editor</span>
        </a>
        <span class="tooltip">Editor</span>
      </li>
      <li>
        <a href="search-engine.html">
          <i class='bx bx-search-alt-2' ></i>
          <span class="links_name">Search Engine</span>
        </a>
        <span class="tooltip">Search</span>
      </li>
    </ul>
  </div>
    <section class="home-section">
<div class="dropdown">
        <button class="dropbtn">Tools</button>
        <div class="dropdown-content">
          <a href="tool.html">Tools</a>
          <a href="audio-recorder.html">Audio Recorder</a>
          <a href="camera.html">Camera</a>
          <a href="contact.html">Contact</a>
          <a href="calendar.html">Calendar</a>
          <a href="calculator.html">Calculator</a>
          <a href="dictionary.html">Dictionary</a>
          <a href="languagetranslator.html">Language Translator</a>
          <a href="map.html">Map</a>
          <a href="meeting.html">Meeting</a>
          <a href="notes.html">Notes</a>
          <a href="photo-storage.html">Photo Storage</a>
          <a href="qr-code-generator.html">QR Code Generator</a>
          <a href="qr-code-reader.html">QR Code Reader</a>
          <a href="todo.html">To Do</a>
          <a href="texttospeech.html">Text To Speech</a>
          <a href="photo-editor.html">Photo Editor</a>
          <a href="whiteboard.html">Whiteboard</a>
        </div>
      </div>
<br>
<audio id="audio"></audio>
    <div class="wrapper">
        <div class="container">
            <div class="status">
                <p id="status"></p>
            </div>
            <div class="logo-music">
                <svg width="110px" height="110px" viewBox="0 0 110 110" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                    <g id="icons8_music_1">
                        <path d="M0 0L110 0L110 110L0 110L0 0Z" id="Background" fill="none" stroke="none" />
                        <path d="M20.625 0C9.23413 0 0 9.23413 0 20.625C2.18551e-06 32.0159 9.23413 41.25 20.625 41.25C32.0159 41.25 41.25 32.0159 41.25 20.625C41.25 9.23413 32.0159 0 20.625 0L20.625 0Z" transform="translate(22.91541 55)" id="Shape" fill="#E91E63" stroke="none" />
                        <path d="M0 0L0 61.875L9.16667 61.875L9.16667 18.3333L34.375 25.2083L34.375 9.16667L0 0Z" transform="translate(55 13.75)" id="Shape" fill="#E91E63" stroke="none" />
                    </g>
                 </svg>
            </div>
        <h1 style="color:red;text-align:center;">Audio Recorder</h1>
            <div class="audio-controler">
                <div id="playPauseBtn" class="button">

                </div>
                <div class="btn-info">
                    <p>Play/Pause</p>
                </div>
            </div>
            <div class="record-controler">
                <div id="recordbtn" class="button">

                </div>
                <div class="btn-info">
                    <p>record</p>
                </div>
            </div>

            <div class="downloader">
                <div id="downloadBtn" class="button"></div>
            </div>
        </div>
    </div>

    <script>
    const mediaStatus = document.getElementById('status');
const audioElement = document.getElementById('audio');
const playPauseBtn = document.getElementById('playPauseBtn');
const recordBtn = document.getElementById('recordbtn');
const downloadBtn = document.getElementById('downloadBtn');
const timer = document.getElementById('timer')

// global init;

var mediaRecorder

// array init of chunk data

var blobArray = [];


// event listner

playPauseBtn.addEventListener('click', audioController);
recordBtn.addEventListener('click', recordController);
downloadBtn.addEventListener('click', downloadAudio);

// initial function call
accessMedia();


// check has media or not
function hasAudioDevice(){
    if(navigator.mediaDevices){
        return true
    }
    return false
}

function addAudioStream(){

    const blob = blobStreamData();
    if(blobArray){
        const audioURL = window.URL.createObjectURL(blob);
        audioElement.src = audioURL;

    }
}

async function accessMedia(){
    const constraints ={
        audio: {
            echoCancellation: false,
            noiseSuppression: true,
        }
    }
    if (hasAudioDevice) {
        await navigator.mediaDevices.getUserMedia(constraints).then( stream =>{
            activityStream(stream);
        }).catch( err =>{
            console.log(err);
        })
    }
}

// media recorder class & property init
function activityStream(stream){

    mediaRecorder = new MediaRecorder(stream);
    mediaRecorder.ondataavailable = addDataToArray;

}

function recordController(){
    if (mediaRecorder.state ==="recording") {
        stopRecording();
    }else {
      startRecording();
    }
}

function startRecording(){
    mediaRecorder.start();
    mediaStatus.innerHTML = mediaRecorder.state;
    recordBtn.style.backgroundImage = `url('${window.location.href}img/stop.png')`;
}

function stopRecording(){
    mediaRecorder.stop();
    mediaStatus.innerHTML = mediaRecorder.state;
    recordBtn.style.backgroundImage = `url('${window.location.href}img/record.png')`;
    
}



// adding recording to array

var addDataToArray = function(event){
    
    
    if(event.data.size > 0){
        blobArray.push(event.data);
    }
}


// audio play pause control
function audioController(){
    
    if(!audioElement.paused){
        audioElement.pause();
        
    }else {
        addAudioStream();
      audioElement.play(10);
    }
}

// audio callback on playing function
audioElement.onplaying = function (e){
    if (e) {
        playPauseBtn.style.backgroundImage = `url('${window.location.href}img/pause.png')`;
    }
}

// audio callback on pause function
audioElement.onpause = function (e){
    if (event) {
        playPauseBtn.style.backgroundImage = `url(${window.location.href}img/playpause-btn.png)`;
    }
    
}

// returning blob data
function blobStreamData(){
    return new Blob(blobArray, {
        type: 'audio/webm; codecs=opus'
    })
}

// download audio in file 
function downloadAudio(){
    const blobStream = blobStreamData();

    if (blobArray.length > 0) {
        var url = URL.createObjectURL(blobStream);
        var a = document.createElement('a');
        document.body.appendChild(a);
        a.style = "display: none";
        a.href = url;
        a.download = `audio-recorder${new Date()}.webm`;
        a.click();
        window.URL.revokeObjectURL(url);
        
    }else {
      console.log('No Data');
      
    }
}
    </script>
  </section>

  <script>
    let sidebar = document.querySelector(".sidebar");
let closeBtn = document.querySelector("#btn");
let searchBtn = document.querySelector(".bx-search");

closeBtn.addEventListener("click", ()=>{
  sidebar.classList.toggle("open");
  menuBtnChange();//calling the function(optional)
});

searchBtn.addEventListener("click", ()=>{ // Sidebar open when you click on the search iocn
  sidebar.classList.toggle("open");
  menuBtnChange(); //calling the function(optional)
});

// following are the code to change sidebar button(optional)
function menuBtnChange() {
 if(sidebar.classList.contains("open")){
   closeBtn.classList.replace("bx-menu", "bx-menu-alt-right");//replacing the iocns class
 }else {
   closeBtn.classList.replace("bx-menu-alt-right","bx-menu");//replacing the iocns class
 }
}
  </script>
</body>
</html>
